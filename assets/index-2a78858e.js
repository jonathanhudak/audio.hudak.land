(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const l of c.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerpolicy&&(c.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?c.credentials="include":o.crossorigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();function M(){}function Dt(t,e){for(const n in e)t[n]=e[n];return t}function dt(t){return t()}function Z(){return Object.create(null)}function x(t){t.forEach(dt)}function ht(t){return typeof t=="function"}function U(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Tt(t){return Object.keys(t).length===0}function Ot(t,e,n,r){if(t){const o=mt(t,e,n,r);return t[0](o)}}function mt(t,e,n,r){return t[1]&&r?Dt(n.ctx.slice(),t[1](r(e))):n.ctx}function Pt(t,e,n,r){if(t[2]&&r){const o=t[2](r(n));if(e.dirty===void 0)return o;if(typeof o=="object"){const c=[],l=Math.max(e.dirty.length,o.length);for(let s=0;s<l;s+=1)c[s]=e.dirty[s]|o[s];return c}return e.dirty|o}return e.dirty}function Lt(t,e,n,r,o,c){if(o){const l=mt(e,n,r,c);t.p(l,o)}}function jt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function $(t,e){t.appendChild(e)}function _(t,e,n){t.insertBefore(e,n||null)}function p(t){t.parentNode&&t.parentNode.removeChild(t)}function I(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function v(t){return document.createElement(t)}function F(t){return document.createTextNode(t)}function K(){return F(" ")}function A(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function P(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Bt(t){return Array.from(t.childNodes)}function pt(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function W(t,e,n){t.classList[n?"add":"remove"](e)}let S;function w(t){S=t}function It(){if(!S)throw new Error("Function called outside component initialization");return S}function zt(t){It().$$.on_mount.push(t)}const C=[],tt=[],T=[],et=[],Ht=Promise.resolve();let z=!1;function Rt(){z||(z=!0,Ht.then(_t))}function H(t){T.push(t)}const j=new Set;let E=0;function _t(){if(E!==0)return;const t=S;do{try{for(;E<C.length;){const e=C[E];E++,w(e),qt(e.$$)}}catch(e){throw C.length=0,E=0,e}for(w(null),C.length=0,E=0;tt.length;)tt.pop()();for(let e=0;e<T.length;e+=1){const n=T[e];j.has(n)||(j.add(n),n())}T.length=0}while(C.length);for(;et.length;)et.pop()();z=!1,j.clear(),w(t)}function qt(t){if(t.fragment!==null){t.update(),x(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(H)}}const O=new Set;let g;function Ut(){g={r:0,c:[],p:g}}function Kt(){g.r||x(g.c),g=g.p}function y(t,e){t&&t.i&&(O.delete(t),t.i(e))}function G(t,e,n,r){if(t&&t.o){if(O.has(t))return;O.add(t),g.c.push(()=>{O.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function gt(t){t&&t.c()}function X(t,e,n,r){const{fragment:o,after_update:c}=t.$$;o&&o.m(e,n),r||H(()=>{const l=t.$$.on_mount.map(dt).filter(ht);t.$$.on_destroy?t.$$.on_destroy.push(...l):x(l),t.$$.on_mount=[]}),c.forEach(H)}function V(t,e){const n=t.$$;n.fragment!==null&&(x(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Xt(t,e){t.$$.dirty[0]===-1&&(C.push(t),Rt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function J(t,e,n,r,o,c,l,s=[-1]){const a=S;w(t);const u=t.$$={fragment:null,ctx:[],props:c,update:M,not_equal:o,bound:Z(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:Z(),dirty:s,skip_bound:!1,root:e.target||a.$$.root};l&&l(u.root);let f=!1;if(u.ctx=n?n(t,e.props||{},(i,d,...h)=>{const b=h.length?h[0]:d;return u.ctx&&o(u.ctx[i],u.ctx[i]=b)&&(!u.skip_bound&&u.bound[i]&&u.bound[i](b),f&&Xt(t,i)),d}):[],u.update(),f=!0,x(u.before_update),u.fragment=r?r(u.ctx):!1,e.target){if(e.hydrate){const i=Bt(e.target);u.fragment&&u.fragment.l(i),i.forEach(p)}else u.fragment&&u.fragment.c();e.intro&&y(t.$$.fragment),X(t,e.target,e.anchor,e.customElement),_t()}w(a)}class Q{$destroy(){V(this,1),this.$destroy=M}$on(e,n){if(!ht(n))return M;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const o=r.indexOf(n);o!==-1&&r.splice(o,1)}}$set(e){this.$$set&&!Tt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Vt(t){let e,n,r,o;const c=t[8].default,l=Ot(c,t,t[7],null);return{c(){e=v("button"),l&&l.c(),P(e,"class","svelte-11vc9t6"),W(e,"playing",t[0])},m(s,a){_(s,e,a),l&&l.m(e,null),n=!0,r||(o=[A(e,"mousedown",t[1]),A(e,"mouseup",t[2]),A(e,"keydown",t[3]),A(e,"keyup",t[4]),A(e,"touchstart",t[1],{passive:!0}),A(e,"touchend",t[2],{passive:!0})],r=!0)},p(s,[a]){l&&l.p&&(!n||a&128)&&Lt(l,c,s,s[7],n?Pt(c,s[7],a,null):jt(s[7]),null),(!n||a&1)&&W(e,"playing",s[0])},i(s){n||(y(l,s),n=!0)},o(s){G(l,s),n=!1},d(s){s&&p(e),l&&l.d(s),r=!1,x(o)}}}function Jt(t,e,n){let{$$slots:r={},$$scope:o}=e,{audioCtx:c}=e,{pulseHz:l}=e,s,a=!1;function u(){s&&s.stop(),s=c.createOscillator(),s.type="sine",s.frequency.setValueAtTime(l,c.currentTime),s.connect(c.destination),s.start(),n(0,a=!0)}function f(){s&&(s.stop(),n(0,a=!1))}function i(h){h.key==="Enter"&&u()}function d(h){h.key==="Enter"&&f()}return t.$$set=h=>{"audioCtx"in h&&n(5,c=h.audioCtx),"pulseHz"in h&&n(6,l=h.pulseHz),"$$scope"in h&&n(7,o=h.$$scope)},[a,u,f,i,d,c,l,o,r]}class Qt extends Q{constructor(e){super(),J(this,e,Jt,Vt,U,{audioCtx:5,pulseHz:6})}}const Yt={a:"C3",w:"C#3",s:"D3",e:"D#3",d:"E3",f:"F3",t:"F#3",g:"G3",y:"G#3",h:"A3",u:"A#3",j:"B3",k:"C4",o:"C#4",l:"D4",p:"D#4",";":"E4","[":"F4","'":"F#4","]":"G4","\\":"G#4",z:"C5",x:"C#5",c:"D5",v:"D#5",b:"E5",n:"F5",m:"F#5",",":"G5",".":"G#5","/":"A5",1:"C6",2:"C#6",3:"D6",4:"D#6",5:"E6",6:"F6",7:"F#6",8:"G6",9:"G#6",0:"A6","-":"A#6","=":"B6"},Zt={a:"C2",w:"C#2",s:"D2",e:"D#2",d:"E2",f:"F2",t:"F#2",g:"G2",y:"G#2",h:"A2",u:"A#2",j:"B2",k:"C3",o:"C#3",l:"D3",p:"D#3",";":"E3","[":"F3","'":"F#3","]":"G3","\\":"G#3",z:"A3",x:"A#3",c:"B3",v:"C4",b:"C#4",n:"D4",m:"D#4",",":"E4",".":"F4","/":"F#4",1:"G4",2:"G#4",3:"A4",4:"A#4",5:"B4",6:"C5",7:"C#5",8:"D5",9:"D#5",0:"E5","-":"F5","=":"F#5"},nt={max:Yt,real:Zt};function rt(t,e,n){const r=t.slice();return r[4]=e[n],r}function ot(t,e,n){const r=t.slice();return r[7]=e[n],r}function ct(t){let e=t[7]+"",n,r;return{c(){n=F(e),r=F(" ")},m(o,c){_(o,n,c),_(o,r,c)},p(o,c){c&1&&e!==(e=o[7]+"")&&pt(n,e)},d(o){o&&p(n),o&&p(r)}}}function st(t){let e=t[4]+"",n,r;return{c(){n=F(e),r=F(" ")},m(o,c){_(o,n,c),_(o,r,c)},p(o,c){c&2&&e!==(e=o[4]+"")&&pt(n,e)},d(o){o&&p(n),o&&p(r)}}}function Wt(t){let e,n,r,o,c=t[0],l=[];for(let u=0;u<c.length;u+=1)l[u]=ct(ot(t,c,u));let s=t[1],a=[];for(let u=0;u<s.length;u+=1)a[u]=st(rt(t,s,u));return{c(){e=v("div"),n=v("strong");for(let u=0;u<l.length;u+=1)l[u].c();r=K(),o=v("strong");for(let u=0;u<a.length;u+=1)a[u].c();P(n,"class","svelte-lcpcn9"),P(o,"class","svelte-lcpcn9")},m(u,f){_(u,e,f),$(e,n);for(let i=0;i<l.length;i+=1)l[i].m(n,null);$(e,r),$(e,o);for(let i=0;i<a.length;i+=1)a[i].m(o,null)},p(u,[f]){if(f&1){c=u[0];let i;for(i=0;i<c.length;i+=1){const d=ot(u,c,i);l[i]?l[i].p(d,f):(l[i]=ct(d),l[i].c(),l[i].m(n,null))}for(;i<l.length;i+=1)l[i].d(1);l.length=c.length}if(f&2){s=u[1];let i;for(i=0;i<s.length;i+=1){const d=rt(u,s,i);a[i]?a[i].p(d,f):(a[i]=st(d),a[i].c(),a[i].m(o,null))}for(;i<a.length;i+=1)a[i].d(1);a.length=s.length}},i:M,o:M,d(u){u&&p(e),I(l,u),I(a,u)}}}function te(t,e,n){let r=[],o=[],c=s=>{const a=s.key;r.indexOf(a)===-1&&(n(0,r=[...r,a]),n(1,o=[...o,nt.real[a]].filter(u=>!!u)))},l=s=>{n(0,r=[...r.filter(()=>!s.key)]),n(1,o=[...o.filter(()=>!nt.real[s.key])].filter(a=>!!a))};return zt(async()=>{document.addEventListener("keydown",c),document.addEventListener("keyup",l)}),[r,o]}class ee extends Q{constructor(e){super(),J(this,e,te,Wt,U,{})}}var L=(t,e)=>Array(Math.abs(e)+1).join(t);function yt(t){return t!==null&&typeof t=="object"&&typeof t.name=="string"}function vt(t){return t!==null&&typeof t=="object"&&typeof t.step=="number"&&typeof t.alt=="number"}var bt=[0,2,4,-1,1,3,5],At=bt.map(t=>Math.floor(t*7/12));function Et(t){const{step:e,alt:n,oct:r,dir:o=1}=t,c=bt[e]+7*n;if(r===void 0)return[o*c];const l=r-At[e]-4*n;return[o*c,o*l]}var ne=[3,0,4,1,5,2,6];function re(t){const[e,n,r]=t,o=ne[oe(e)],c=Math.floor((e+1)/7);if(n===void 0)return{step:o,alt:c,dir:r};const l=n+4*c+At[o];return{step:o,alt:c,oct:l,dir:r}}function oe(t){const e=(t+1)%7;return e<0?7+e:e}var Ct={empty:!0,name:"",pc:"",acc:""},lt=new Map,ce=t=>"CDEFGAB".charAt(t),se=t=>t<0?L("b",-t):L("#",t),le=t=>t[0]==="b"?-t.length:t.length;function k(t){const e=JSON.stringify(t),n=lt.get(e);if(n)return n;const r=typeof t=="string"?de(t):vt(t)?k(he(t)):yt(t)?k(t.name):Ct;return lt.set(e,r),r}var ue=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function ie(t){const e=ue.exec(t);return[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]}function ae(t){return k(re(t))}var fe=(t,e)=>(t%e+e)%e,B=[0,2,4,5,7,9,11];function de(t){const e=ie(t);if(e[0]===""||e[3]!=="")return Ct;const n=e[0],r=e[1],o=e[2],c=(n.charCodeAt(0)+3)%7,l=le(r),s=o.length?+o:void 0,a=Et({step:c,alt:l,oct:s}),u=n+r+o,f=n+r,i=(B[c]+l+120)%12,d=s===void 0?fe(B[c]+l,12)-12*99:B[c]+l+12*(s+1),h=d>=0&&d<=127?d:null,b=s===void 0?null:Math.pow(2,(d-69)/12)*440;return{empty:!1,acc:r,alt:l,chroma:i,coord:a,freq:b,height:d,letter:n,midi:h,name:u,oct:s,pc:f,step:c}}function he(t){const{step:e,alt:n,oct:r}=t,o=ce(e);if(!o)return"";const c=o+se(n);return r||r===0?c+r:c}var R={empty:!0,name:"",acc:""},me="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",pe="(AA|A|P|M|m|d|dd)([-+]?\\d+)",_e=new RegExp("^"+me+"|"+pe+"$");function ge(t){const e=_e.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var ut={};function q(t){return typeof t=="string"?ut[t]||(ut[t]=ye(t)):vt(t)?q(be(t)):yt(t)?q(t.name):R}var it=[0,2,4,5,7,9,11],$t="PMMPPMM";function ye(t){const e=ge(t);if(e[0]==="")return R;const n=+e[0],r=e[1],o=(Math.abs(n)-1)%7,c=$t[o];if(c==="M"&&r==="P")return R;const l=c==="M"?"majorable":"perfectable",s=""+n+r,a=n<0?-1:1,u=n===8||n===-8?n:a*(o+1),f=ve(l,r),i=Math.floor((Math.abs(n)-1)/7),d=a*(it[o]+f+12*i),h=(a*(it[o]+f)%12+12)%12,b=Et({step:o,alt:f,oct:i,dir:a});return{empty:!1,name:s,num:n,q:r,step:o,alt:f,dir:a,type:l,simple:u,semitones:d,chroma:h,coord:b,oct:i}}function ve(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function be(t){const{step:e,alt:n,oct:r=0,dir:o}=t;if(!o)return"";const c=e+1+7*r,l=c===0?e+1:c,s=o<0?"-":"",a=$t[e]==="M"?"majorable":"perfectable";return s+l+Ae(a,n)}function Ae(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?L("A",e):L("d",t==="perfectable"?e:e+1)}function Mt(t,e){const n=k(t),r=Array.isArray(e)?e:q(e).coord;if(n.empty||!r||r.length<2)return"";const o=n.coord,c=o.length===1?[o[0]+r[0]]:[o[0]+r[0],o[1]+r[1]];return ae(c).name}var Ee=Math.log(2),Ce=Math.log(440);function Ft(t){const e=12*(Math.log(t)-Ce)/Ee+69;return Math.round(e*100)/100}var $e="C C# D D# E F F# G G# A A# B".split(" "),Me="C Db D Eb E F Gb G Ab A Bb B".split(" ");function N(t,e={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const r=(e.sharps===!0?$e:Me)[t%12];if(e.pitchClass)return r;const o=Math.floor(t/12)-1;return r+o}var Fe=["C","D","E","F","G","A","B"],kt=t=>t.name,xt=t=>t.map(k).filter(e=>!e.empty);function ke(t){return t===void 0?Fe.slice():Array.isArray(t)?xt(t).map(kt):[]}var m=k,xe=t=>m(t).name,Ne=t=>m(t).pc,we=t=>m(t).acc,Ge=t=>m(t).oct,Se=t=>m(t).midi,De=t=>m(t).freq,Te=t=>m(t).chroma;function Oe(t){return N(t)}function Pe(t){return N(Ft(t))}function Le(t){return N(Ft(t),{sharps:!0})}function je(t){return N(t,{sharps:!0})}var D=Mt,Be=Mt,Nt=t=>e=>D(e,t),Ie=Nt,wt=t=>e=>D(t,e),ze=wt;function Gt(t,e){return D(t,[e,0])}var He=Gt;function Re(t,e){return D(t,[0,e])}var Y=(t,e)=>t.height-e.height,qe=(t,e)=>e.height-t.height;function St(t,e){return e=e||Y,xt(t).sort(e).map(kt)}function Ue(t){return St(t,Y).filter((e,n,r)=>n===0||e!==r[n-1])}var Ke=t=>{const e=m(t);return e.empty?"":N(e.midi||e.chroma,{sharps:e.alt>0,pitchClass:e.midi===null})};function Xe(t,e){const n=m(t);if(n.empty)return"";const r=m(e||N(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const o=n.chroma-n.alt,c=r.chroma-r.alt,l=o>11||c<0?-1:o<0||c>11?1:0,s=n.oct+l;return r.pc+s}var Ve={names:ke,get:m,name:xe,pitchClass:Ne,accidentals:we,octave:Ge,midi:Se,ascending:Y,descending:qe,sortedNames:St,sortedUniqNames:Ue,fromMidi:Oe,fromMidiSharps:je,freq:De,fromFreq:Pe,fromFreqSharps:Le,chroma:Te,transpose:D,tr:Be,transposeBy:Nt,trBy:Ie,transposeFrom:wt,trFrom:ze,transposeFifths:Gt,transposeOctaves:Re,trFifths:He,simplify:Ke,enharmonic:Xe};function at(t,e,n){const r=t.slice();return r[7]=e[n][0],r[8]=e[n][1],r}function Je(t){let e=t[7]+"",n;return{c(){n=F(e)},m(r,o){_(r,n,o)},p:M,d(r){r&&p(n)}}}function ft(t){let e,n,r,o;return n=new Qt({props:{pulseHz:t[8],audioCtx:t[0],$$slots:{default:[Je]},$$scope:{ctx:t}}}),{c(){e=v("li"),gt(n.$$.fragment),r=K()},m(c,l){_(c,e,l),X(n,e,null),$(e,r),o=!0},p(c,l){const s={};l&2048&&(s.$$scope={dirty:l,ctx:c}),n.$set(s)},i(c){o||(y(n.$$.fragment,c),o=!0)},o(c){G(n.$$.fragment,c),o=!1},d(c){c&&p(e),V(n)}}}function Qe(t){let e,n,r,o,c;n=new ee({});let l=t[1],s=[];for(let u=0;u<l.length;u+=1)s[u]=ft(at(t,l,u));const a=u=>G(s[u],1,1,()=>{s[u]=null});return{c(){e=v("main"),gt(n.$$.fragment),r=K(),o=v("ol");for(let u=0;u<s.length;u+=1)s[u].c();P(o,"class","svelte-b9y5ad")},m(u,f){_(u,e,f),X(n,e,null),$(e,r),$(e,o);for(let i=0;i<s.length;i+=1)s[i].m(o,null);c=!0},p(u,[f]){if(f&3){l=u[1];let i;for(i=0;i<l.length;i+=1){const d=at(u,l,i);s[i]?(s[i].p(d,f),y(s[i],1)):(s[i]=ft(d),s[i].c(),y(s[i],1),s[i].m(o,null))}for(Ut(),i=l.length;i<s.length;i+=1)a(i);Kt()}},i(u){if(!c){y(n.$$.fragment,u);for(let f=0;f<l.length;f+=1)y(s[f]);c=!0}},o(u){G(n.$$.fragment,u),s=s.filter(Boolean);for(let f=0;f<s.length;f+=1)G(s[f]);c=!1},d(u){u&&p(e),V(n),I(s,u)}}}function Ye(t){let e=new AudioContext,n=e.createGain();navigator.mediaDevices.getUserMedia||console.error("getUserMedia not supported on your browser!"),n.connect(e.destination);let r="CDEFGAB".split(""),c=[0,1,2,3,4,5,6].map(l=>r.map(s=>{let a=`${s}${l}`;return[a,Ve.freq(a)]})).reduce((l,s)=>[...l,...s],[]);return[e,c]}class Ze extends Q{constructor(e){super(),J(this,e,Ye,Qe,U,{})}}new Ze({target:document.getElementById("app")});
