(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const u of o.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerpolicy&&(o.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?o.credentials="include":s.crossorigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();function T(){}function $t(t,e){for(const n in e)t[n]=e[n];return t}function Y(t){return t()}function D(){return Object.create(null)}function E(t){t.forEach(Y)}function Z(t){return typeof t=="function"}function W(t,e){return t!=t?e==e:t!==e||t&&typeof t=="object"||typeof t=="function"}function Nt(t){return Object.keys(t).length===0}function St(t,e,n,r){if(t){const s=tt(t,e,n,r);return t[0](s)}}function tt(t,e,n,r){return t[1]&&r?$t(n.ctx.slice(),t[1](r(e))):n.ctx}function Ct(t,e,n,r){if(t[2]&&r){const s=t[2](r(n));if(e.dirty===void 0)return s;if(typeof s=="object"){const o=[],u=Math.max(e.dirty.length,s.length);for(let c=0;c<u;c+=1)o[c]=e.dirty[c]|s[c];return o}return e.dirty|s}return e.dirty}function xt(t,e,n,r,s,o){if(s){const u=tt(e,n,r,o);t.p(u,s)}}function Tt(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let r=0;r<n;r++)e[r]=-1;return e}return-1}function et(t,e){t.appendChild(e)}function O(t,e,n){t.insertBefore(e,n||null)}function N(t){t.parentNode&&t.parentNode.removeChild(t)}function Pt(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function P(t){return document.createElement(t)}function nt(t){return document.createTextNode(t)}function wt(){return nt(" ")}function _(t,e,n,r){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n,r)}function rt(t,e,n){n==null?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function Ft(t){return Array.from(t.childNodes)}function z(t,e,n){t.classList[n?"add":"remove"](e)}let H;function $(t){H=t}const v=[],q=[],C=[],X=[],Ot=Promise.resolve();let j=!1;function kt(){j||(j=!0,Ot.then(ot))}function G(t){C.push(t)}const k=new Set;let y=0;function ot(){if(y!==0)return;const t=H;do{try{for(;y<v.length;){const e=v[y];y++,$(e),Lt(e.$$)}}catch(e){throw v.length=0,y=0,e}for($(null),v.length=0,y=0;q.length;)q.pop()();for(let e=0;e<C.length;e+=1){const n=C[e];k.has(n)||(k.add(n),n())}C.length=0}while(v.length);for(;X.length;)X.pop()();j=!1,k.clear(),$(t)}function Lt(t){if(t.fragment!==null){t.update(),E(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(G)}}const x=new Set;let p;function jt(){p={r:0,c:[],p}}function Gt(){p.r||E(p.c),p=p.p}function b(t,e){t&&t.i&&(x.delete(t),t.i(e))}function w(t,e,n,r){if(t&&t.o){if(x.has(t))return;x.add(t),p.c.push(()=>{x.delete(t),r&&(n&&t.d(1),r())}),t.o(e)}else r&&r()}function It(t){t&&t.c()}function st(t,e,n,r){const{fragment:s,after_update:o}=t.$$;s&&s.m(e,n),r||G(()=>{const u=t.$$.on_mount.map(Y).filter(Z);t.$$.on_destroy?t.$$.on_destroy.push(...u):E(u),t.$$.on_mount=[]}),o.forEach(G)}function ct(t,e){const n=t.$$;n.fragment!==null&&(E(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function Bt(t,e){t.$$.dirty[0]===-1&&(v.push(t),kt(),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function ut(t,e,n,r,s,o,u,c=[-1]){const a=H;$(t);const i=t.$$={fragment:null,ctx:[],props:o,update:T,not_equal:s,bound:D(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(e.context||(a?a.$$.context:[])),callbacks:D(),dirty:c,skip_bound:!1,root:e.target||a.$$.root};u&&u(i.root);let d=!1;if(i.ctx=n?n(t,e.props||{},(f,m,...l)=>{const g=l.length?l[0]:m;return i.ctx&&s(i.ctx[f],i.ctx[f]=g)&&(!i.skip_bound&&i.bound[f]&&i.bound[f](g),d&&Bt(t,f)),m}):[],i.update(),d=!0,E(i.before_update),i.fragment=r?r(i.ctx):!1,e.target){if(e.hydrate){const f=Ft(e.target);i.fragment&&i.fragment.l(f),f.forEach(N)}else i.fragment&&i.fragment.c();e.intro&&b(t.$$.fragment),st(t,e.target,e.anchor,e.customElement),ot()}$(a)}class it{$destroy(){ct(this,1),this.$destroy=T}$on(e,n){if(!Z(n))return T;const r=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return r.push(n),()=>{const s=r.indexOf(n);s!==-1&&r.splice(s,1)}}$set(e){this.$$set&&!Nt(e)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function Ht(t){let e,n,r,s;const o=t[8].default,u=St(o,t,t[7],null);return{c(){e=P("button"),u&&u.c(),rt(e,"class","svelte-11vc9t6"),z(e,"playing",t[0])},m(c,a){O(c,e,a),u&&u.m(e,null),n=!0,r||(s=[_(e,"mousedown",t[1]),_(e,"mouseup",t[2]),_(e,"keydown",t[3]),_(e,"keyup",t[4]),_(e,"touchstart",t[1],{passive:!0}),_(e,"touchend",t[2],{passive:!0})],r=!0)},p(c,[a]){u&&u.p&&(!n||a&128)&&xt(u,o,c,c[7],n?Ct(o,c[7],a,null):Tt(c[7]),null),(!n||a&1)&&z(e,"playing",c[0])},i(c){n||(b(u,c),n=!0)},o(c){w(u,c),n=!1},d(c){c&&N(e),u&&u.d(c),r=!1,E(s)}}}function Rt(t,e,n){let{$$slots:r={},$$scope:s}=e,{audioCtx:o}=e,{pulseHz:u}=e,c,a=!1;function i(){c&&c.stop(),c=o.createOscillator(),c.type="sine",c.frequency.setValueAtTime(u,o.currentTime);let l=o.createGain();l.gain.value=.5,c.connect(l),c.connect(o.destination),c.start(),n(0,a=!0)}function d(){c.stop(),n(0,a=!1)}function f(l){l.key==="Enter"&&i()}function m(l){l.key==="Enter"&&d()}return t.$$set=l=>{"audioCtx"in l&&n(5,o=l.audioCtx),"pulseHz"in l&&n(6,u=l.pulseHz),"$$scope"in l&&n(7,s=l.$$scope)},[a,i,d,f,m,o,u,s,r]}class Dt extends it{constructor(e){super(),ut(this,e,Rt,Ht,W,{audioCtx:5,pulseHz:6})}}var F=(t,e)=>Array(Math.abs(e)+1).join(t);function at(t){return t!==null&&typeof t=="object"&&typeof t.name=="string"}function lt(t){return t!==null&&typeof t=="object"&&typeof t.step=="number"&&typeof t.alt=="number"}var ft=[0,2,4,-1,1,3,5],dt=ft.map(t=>Math.floor(t*7/12));function mt(t){const{step:e,alt:n,oct:r,dir:s=1}=t,o=ft[e]+7*n;if(r===void 0)return[s*o];const u=r-dt[e]-4*n;return[s*o,s*u]}var zt=[3,0,4,1,5,2,6];function qt(t){const[e,n,r]=t,s=zt[Xt(e)],o=Math.floor((e+1)/7);if(n===void 0)return{step:s,alt:o,dir:r};const u=n+4*o+dt[s];return{step:s,alt:o,oct:u,dir:r}}function Xt(t){const e=(t+1)%7;return e<0?7+e:e}var ht={empty:!0,name:"",pc:"",acc:""},V=new Map,Vt=t=>"CDEFGAB".charAt(t),Ut=t=>t<0?F("b",-t):F("#",t),Jt=t=>t[0]==="b"?-t.length:t.length;function A(t){const e=JSON.stringify(t),n=V.get(e);if(n)return n;const r=typeof t=="string"?Wt(t):lt(t)?A(te(t)):at(t)?A(t.name):ht;return V.set(e,r),r}var Kt=/^([a-gA-G]?)(#{1,}|b{1,}|x{1,}|)(-?\d*)\s*(.*)$/;function Qt(t){const e=Kt.exec(t);return[e[1].toUpperCase(),e[2].replace(/x/g,"##"),e[3],e[4]]}function Yt(t){return A(qt(t))}var Zt=(t,e)=>(t%e+e)%e,L=[0,2,4,5,7,9,11];function Wt(t){const e=Qt(t);if(e[0]===""||e[3]!=="")return ht;const n=e[0],r=e[1],s=e[2],o=(n.charCodeAt(0)+3)%7,u=Jt(r),c=s.length?+s:void 0,a=mt({step:o,alt:u,oct:c}),i=n+r+s,d=n+r,f=(L[o]+u+120)%12,m=c===void 0?Zt(L[o]+u,12)-12*99:L[o]+u+12*(c+1),l=m>=0&&m<=127?m:null,g=c===void 0?null:Math.pow(2,(m-69)/12)*440;return{empty:!1,acc:r,alt:u,chroma:f,coord:a,freq:g,height:m,letter:n,midi:l,name:i,oct:c,pc:d,step:o}}function te(t){const{step:e,alt:n,oct:r}=t,s=Vt(e);if(!s)return"";const o=s+Ut(n);return r||r===0?o+r:o}var I={empty:!0,name:"",acc:""},ee="([-+]?\\d+)(d{1,4}|m|M|P|A{1,4})",ne="(AA|A|P|M|m|d|dd)([-+]?\\d+)",re=new RegExp("^"+ee+"|"+ne+"$");function oe(t){const e=re.exec(`${t}`);return e===null?["",""]:e[1]?[e[1],e[2]]:[e[4],e[3]]}var U={};function B(t){return typeof t=="string"?U[t]||(U[t]=se(t)):lt(t)?B(ue(t)):at(t)?B(t.name):I}var J=[0,2,4,5,7,9,11],pt="PMMPPMM";function se(t){const e=oe(t);if(e[0]==="")return I;const n=+e[0],r=e[1],s=(Math.abs(n)-1)%7,o=pt[s];if(o==="M"&&r==="P")return I;const u=o==="M"?"majorable":"perfectable",c=""+n+r,a=n<0?-1:1,i=n===8||n===-8?n:a*(s+1),d=ce(u,r),f=Math.floor((Math.abs(n)-1)/7),m=a*(J[s]+d+12*f),l=(a*(J[s]+d)%12+12)%12,g=mt({step:s,alt:d,oct:f,dir:a});return{empty:!1,name:c,num:n,q:r,step:s,alt:d,dir:a,type:u,simple:i,semitones:m,chroma:l,coord:g,oct:f}}function ce(t,e){return e==="M"&&t==="majorable"||e==="P"&&t==="perfectable"?0:e==="m"&&t==="majorable"?-1:/^A+$/.test(e)?e.length:/^d+$/.test(e)?-1*(t==="perfectable"?e.length:e.length+1):0}function ue(t){const{step:e,alt:n,oct:r=0,dir:s}=t;if(!s)return"";const o=e+1+7*r,u=o===0?e+1:o,c=s<0?"-":"",a=pt[e]==="M"?"majorable":"perfectable";return c+u+ie(a,n)}function ie(t,e){return e===0?t==="majorable"?"M":"P":e===-1&&t==="majorable"?"m":e>0?F("A",e):F("d",t==="perfectable"?e:e+1)}function gt(t,e){const n=A(t),r=Array.isArray(e)?e:B(e).coord;if(n.empty||!r||r.length<2)return"";const s=n.coord,o=s.length===1?[s[0]+r[0]]:[s[0]+r[0],s[1]+r[1]];return Yt(o).name}var ae=Math.log(2),le=Math.log(440);function _t(t){const e=12*(Math.log(t)-le)/ae+69;return Math.round(e*100)/100}var fe="C C# D D# E F F# G G# A A# B".split(" "),de="C Db D Eb E F Gb G Ab A Bb B".split(" ");function M(t,e={}){if(isNaN(t)||t===-1/0||t===1/0)return"";t=Math.round(t);const r=(e.sharps===!0?fe:de)[t%12];if(e.pitchClass)return r;const s=Math.floor(t/12)-1;return r+s}var me=["C","D","E","F","G","A","B"],yt=t=>t.name,vt=t=>t.map(A).filter(e=>!e.empty);function he(t){return t===void 0?me.slice():Array.isArray(t)?vt(t).map(yt):[]}var h=A,pe=t=>h(t).name,ge=t=>h(t).pc,_e=t=>h(t).acc,ye=t=>h(t).oct,ve=t=>h(t).midi,be=t=>h(t).freq,Ae=t=>h(t).chroma;function Ee(t){return M(t)}function Me(t){return M(_t(t))}function $e(t){return M(_t(t),{sharps:!0})}function Ne(t){return M(t,{sharps:!0})}var S=gt,Se=gt,bt=t=>e=>S(e,t),Ce=bt,At=t=>e=>S(t,e),xe=At;function Et(t,e){return S(t,[e,0])}var Te=Et;function Pe(t,e){return S(t,[0,e])}var R=(t,e)=>t.height-e.height,we=(t,e)=>e.height-t.height;function Mt(t,e){return e=e||R,vt(t).sort(e).map(yt)}function Fe(t){return Mt(t,R).filter((e,n,r)=>n===0||e!==r[n-1])}var Oe=t=>{const e=h(t);return e.empty?"":M(e.midi||e.chroma,{sharps:e.alt>0,pitchClass:e.midi===null})};function ke(t,e){const n=h(t);if(n.empty)return"";const r=h(e||M(n.midi||n.chroma,{sharps:n.alt<0,pitchClass:!0}));if(r.empty||r.chroma!==n.chroma)return"";if(n.oct===void 0)return r.pc;const s=n.chroma-n.alt,o=r.chroma-r.alt,u=s>11||o<0?-1:s<0||o>11?1:0,c=n.oct+u;return r.pc+c}var Le={names:he,get:h,name:pe,pitchClass:ge,accidentals:_e,octave:ye,midi:ve,ascending:R,descending:we,sortedNames:Mt,sortedUniqNames:Fe,fromMidi:Ee,fromMidiSharps:Ne,freq:be,fromFreq:Me,fromFreqSharps:$e,chroma:Ae,transpose:S,tr:Se,transposeBy:bt,trBy:Ce,transposeFrom:At,trFrom:xe,transposeFifths:Et,transposeOctaves:Pe,trFifths:Te,simplify:Oe,enharmonic:ke};function K(t,e,n){const r=t.slice();return r[4]=e[n][0],r[5]=e[n][1],r}function je(t){let e=t[4]+"",n;return{c(){n=nt(e)},m(r,s){O(r,n,s)},p:T,d(r){r&&N(n)}}}function Q(t){let e,n,r,s;return n=new Dt({props:{pulseHz:t[5],audioCtx:t[0],$$slots:{default:[je]},$$scope:{ctx:t}}}),{c(){e=P("li"),It(n.$$.fragment),r=wt()},m(o,u){O(o,e,u),st(n,e,null),et(e,r),s=!0},p(o,u){const c={};u&256&&(c.$$scope={dirty:u,ctx:o}),n.$set(c)},i(o){s||(b(n.$$.fragment,o),s=!0)},o(o){w(n.$$.fragment,o),s=!1},d(o){o&&N(e),ct(n)}}}function Ge(t){let e,n,r,s=t[1],o=[];for(let c=0;c<s.length;c+=1)o[c]=Q(K(t,s,c));const u=c=>w(o[c],1,1,()=>{o[c]=null});return{c(){e=P("main"),n=P("ol");for(let c=0;c<o.length;c+=1)o[c].c();rt(n,"class","svelte-b9y5ad")},m(c,a){O(c,e,a),et(e,n);for(let i=0;i<o.length;i+=1)o[i].m(n,null);r=!0},p(c,[a]){if(a&3){s=c[1];let i;for(i=0;i<s.length;i+=1){const d=K(c,s,i);o[i]?(o[i].p(d,a),b(o[i],1)):(o[i]=Q(d),o[i].c(),b(o[i],1),o[i].m(n,null))}for(jt(),i=s.length;i<o.length;i+=1)u(i);Gt()}},i(c){if(!r){for(let a=0;a<s.length;a+=1)b(o[a]);r=!0}},o(c){o=o.filter(Boolean);for(let a=0;a<o.length;a+=1)w(o[a]);r=!1},d(c){c&&N(e),Pt(o,c)}}}function Ie(t){let e=new AudioContext,n="CDEFGAB".split(""),s=[0,1,2,3,4,5,6].map(o=>n.map(u=>{let c=`${u}${o}`;return[c,Le.freq(c)]})).reduce((o,u)=>[...o,...u],[]);return[e,s]}class Be extends it{constructor(e){super(),ut(this,e,Ie,Ge,W,{})}}new Be({target:document.getElementById("app")});
